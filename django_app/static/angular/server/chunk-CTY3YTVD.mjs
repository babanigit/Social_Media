import './polyfills.server.mjs';
import{a as I,b as W,c as N,d as P,e as T,f as x,h as B}from"./chunk-TMHVRFOS.mjs";import{a as E}from"./chunk-PIVB55NM.mjs";import{P as m,Q as w,Sa as b,Ta as R,W as S,Y as c,aa as i,ba as n,ha as f,ia as _,j as h,ka as s,la as M,na as p,o as C,oa as g,p as y,pa as d,pb as v}from"./chunk-MQQPKT5U.mjs";import"./chunk-5XUXGTUW.mjs";function L(a,r){if(a&1&&(i(0,"p",16),s(1),n()),a&2){let o=_();m(),M(o.successMessage)}}function A(a,r){if(a&1&&(i(0,"p",17),s(1),n()),a&2){let o=_();m(),M(o.errorMessage)}}var u=class a{constructor(r){this.authService=r}name="";username="";email="";password="";bio="";profileImage;errorMessage="";successMessage="";onProfileImageSelected(r){this.profileImage=r.target.files[0]}register(){if(!this.name||!this.username||!this.email||!this.password){this.errorMessage="Name, username, email, and password are required";return}let r=new FormData;r.append("name",this.name),r.append("username",this.username),r.append("email",this.email),r.append("password",this.password),r.append("bio",this.bio),this.profileImage&&r.append("profile_image",this.profileImage),this.authService.register(r).subscribe(o=>{this.successMessage="Registration successful",console.log("User registered successfully:",o)},o=>{this.errorMessage=o.error?.error||"Registration failed",console.error("Error during registration:",o)})}static \u0275fac=function(o){return new(o||a)(w(E))};static \u0275cmp=C({type:a,selectors:[["app-register"]],decls:32,vars:7,consts:[["class","success",4,"ngIf"],["class","error",4,"ngIf"],[3,"submit"],["for","name"],["type","text","id","name","name","name",3,"ngModelChange","ngModel"],["for","username"],["type","text","id","username","name","username",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password",3,"ngModelChange","ngModel"],["for","bio"],["id","bio","name","bio",3,"ngModelChange","ngModel"],["for","profile_image"],["type","file","id","profile_image",3,"change"],["type","submit"],[1,"success"],[1,"error"]],template:function(o,t){o&1&&(i(0,"div")(1,"h2"),s(2,"Register"),n(),S(3,L,2,1,"p",0)(4,A,2,1,"p",1),i(5,"form",2),f("submit",function(){return t.register()}),i(6,"div")(7,"label",3),s(8,"Name:"),n(),i(9,"input",4),d("ngModelChange",function(e){return g(t.name,e)||(t.name=e),e}),n()(),i(10,"div")(11,"label",5),s(12,"Username:"),n(),i(13,"input",6),d("ngModelChange",function(e){return g(t.username,e)||(t.username=e),e}),n()(),i(14,"div")(15,"label",7),s(16,"Email:"),n(),i(17,"input",8),d("ngModelChange",function(e){return g(t.email,e)||(t.email=e),e}),n()(),i(18,"div")(19,"label",9),s(20,"Password:"),n(),i(21,"input",10),d("ngModelChange",function(e){return g(t.password,e)||(t.password=e),e}),n()(),i(22,"div")(23,"label",11),s(24,"Bio:"),n(),i(25,"textarea",12),d("ngModelChange",function(e){return g(t.bio,e)||(t.bio=e),e}),n()(),i(26,"div")(27,"label",13),s(28,"Profile Image:"),n(),i(29,"input",14),f("change",function(e){return t.onProfileImageSelected(e)}),n()(),i(30,"button",15),s(31,"Register"),n()()()),o&2&&(m(3),c("ngIf",t.successMessage),m(),c("ngIf",t.errorMessage),m(5),p("ngModel",t.name),m(4),p("ngModel",t.username),m(4),p("ngModel",t.email),m(4),p("ngModel",t.password),m(4),p("ngModel",t.bio))},dependencies:[b,x,I,W,N,T,P],encapsulation:2})};var G=[{path:"",component:u}],D=class a{static \u0275fac=function(o){return new(o||a)};static \u0275mod=y({type:a});static \u0275inj=h({imports:[R,B,v.forChild(G)]})};export{D as RegisterModule};
